According to Muslim tradition, no angel ordered Muhammad to order a siege on the Banu Qurayza. Rather, this was a decision made by Muhammad based on the actions of the Banu Qurayza tribe who had broken their pact with the Muslims during the Battle of the Trench.