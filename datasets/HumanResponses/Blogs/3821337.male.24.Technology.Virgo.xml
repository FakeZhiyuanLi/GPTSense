<Blog>

<date>14,July,2004</date>
<post>

	 
      Stacks and Heaps !!!!!!!!!  I know this is always confused area and I do revisit this whenever someone  come up with same type of questions. Let me answer it and I hope it will  help others also. I have answered it mostly considering the NT platform but  it is more or less applicable to other OS. (Reason is very simple, NT is  stolen from other OSs!)  Here we go with your one by one questions & answers: Question:While going thr books I do encounter with one statement : strings  are created on Heap.  Whats this Heap......... ?  I have gone thr many books in search of that and got the following idea. Did  I figured out correctly what is Heap..... Would anybody like to add anything  ?  Heap is the special memory area reserved for Dyn.mem allocation. I have also  read one line many times " Stack n Heap grow in opposite direction"  Answer: You are right stack and heap grows in opposite direction. Stack  grows downward from top VIRTUAL memory area towards the program code and  HEAP is 1MB area in virtual memory map of process. You have shown the  direction in your diagram other way round.  Question: Is above mentioned heap and stacks are shared by multiple  processes or each process has its own copy of heap n memory.  Answer: In Win32, Each process has its own copy of VIRTUAL MEMORY. Please  distinguish between physical and virtual memory very clearly. Your PC might  have 256MB RAM while your friend's PC might have 128MB but when you run the  Windows application on both PC, it has all the 4GB (2GB only for your  program) virtual memory address available and OS takes care of mapping this  virtual to physical transparently. If RAM is not sufficient OS will swap one  process's code and data to secondary device (hard disk). When OS loads the  program in memory entire 2GB virtual memory is available for program of  which 1MB area is marked for heap and it may grow beyond that limit but 1MB  is more or less sufficient for most of the applications. When you allocate  the memory using operator new or c runtime library functions (e.g.  malloc/calloc) or OS API (VirtualAlloc/HeapAlloc/LocalAlloc), in Windows NT  3.51 and above actual physical memory is not get allocated instead virtual  memory is get allocated. That was the major change for OS. Same applies for  32-bit and 64-bit Solaris so I can guess it could be the same for Unix and  Linux.   Question: If this is so what do O.S. use as its System stack and Heap for  its operations.  Answer: Last answer is sufficient for this. However, for your information  Intel Microprocessor has two distinct modes called Ring0 and Ring3. OS runs  in Ring0 along with Device drivers (Most previlaged mode) and your  application runs in Ring3.   Question: In abstract I would like to have whats the memory picture at  runtime if u have simultaneousy many running processes and each process has  dynamically created objects.........in turn each object containing pointers.  Answer: I think you are finding it difficult to distinguish between physical  memory and virtual memory. Your virtual memory address could be up to the  range of 4GB of which upper 2GB is used by OS for loading its own DLL  (User,kernel and gui DLLs, Please note that NT OS is in DLL form). So you  left with 2GB and if you need to have additional 1GB virtual memory you can  have it by setting the linker option, so that you can have 3GB for your  program and 1MB for OS. I have not required this so I don't know exactly  what is that setting. But it would be straight forward. So if you've  simultaneously running many processes, runtime picture of memory would be  different at different time but from that process point of view, it is the  only process having 2GB virtual memory available.
    
</post>

<date>09,July,2004</date>
<post>

	 
      yes I have witnessed it...what munna bhai told in his movie...ke sacche dil se awaz do to chembur tak baat pahunchti hai...the very same happened in Pune...kissi ne sacche man se awaz di aur baat 'wanori' tak pahunch gayi..woh bhi phukaat...  phir bole to..hua aise...ke  ek din apne office mein...ek ladki aayee... o..oh..ohhh... sala apne dost ka khopdi chakkar ka gaya...truck ke saath sala apna dost ka dil takkar kha gaya.... kya soorat kya kahte...kya soorat thi...  apne dost ne socha..ke us ka beda paar ho gaya...bole to us ko bhi pyaar ho gaya...  din bhar apna friend...mere table pe...na koi coding...na debugging... teen din naa kissi se rada..naa panga...  hum log sab log sala darr..gaya...bolo apne bhai ko bhi pyaar ho gaya...  we all tried giving him all the tips and tricks to pataofy her....but he was reluctant doign that....the ideas were really sober..  hooking a rose..'Gulab' to a long stick...and running around her...like in 'Koi Mil Gaya' or taking a rose...in left hand while keeping the right hand on his heart...bole to..we tried repeating all sharukh tricks too with guitar...mendolin...and violin....but none of us have good hands on them...  and you know guys days are days...they just pass away...finally..her assignment was over...she had to leave the office...that day we all friend had a big debate...one of us...was doing satte pe satta's 'chain koli ki mein koli ki chain' through out...but that didnt..helped bringing up the morale of our friend....and with a great...sigh..we all saw her go....  lekin...as 'Circuit bhai' ki baat sach nikli....saaf dil se kissi ko awaz do to...baat chembur........  she was again reassigned on a assignment to our office..... hurray.....  o..oh..ohhh... sala apne dost ka khopdi chakkar ka gaya...truck ke saath sala apna dost ka dil takkar kha gaya....
    
</post>


</Blog>